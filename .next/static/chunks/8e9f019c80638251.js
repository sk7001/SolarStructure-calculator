(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95161,e=>{"use strict";var a=e.i(72961);let t=[{name:"540W",width:89.6,height:44.7,description:"Default model"},{name:"550W",width:89.6,height:44.7,description:"Default model"}];async function s(){let{data:e,error:t}=await a.supabase.auth.getUser();if(t)throw t;if(!e?.user?.id)throw Error("Not logged in.");return e.user.id}async function i(){await s();let{data:e,error:t}=await a.supabase.from("panels").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function r(){let e=await s();if((await i()).length>0)return;let{error:r}=await a.supabase.from("panels").upsert(t.map(a=>({user_id:e,name:a.name,width:a.width,height:a.height,description:a.description??""})),{onConflict:"user_id,name"});if(r)throw r}async function l(e){let t=await s(),{data:i,error:r}=await a.supabase.from("panels").insert([{user_id:t,name:e.name.trim(),width:Number(e.width),height:Number(e.height),description:(e.description??"").trim()}]).select("*").single();if(r)throw r;return i}async function n(e){await s();let{data:t,error:i}=await a.supabase.from("panels").select("*").eq("id",e).single();if(i)throw i;return t}async function d(e,t){await s();let{data:i,error:r}=await a.supabase.from("panels").update({name:t.name.trim(),width:Number(t.width),height:Number(t.height),description:(t.description??"").trim(),updated_at:new Date().toISOString()}).eq("id",e).select("*").single();if(r)throw r;return i}async function c(e){await s();let{error:t}=await a.supabase.from("panels").delete().eq("id",e);if(t)throw t;return!0}e.s(["createPanel",()=>l,"deletePanel",()=>c,"getPanelById",()=>n,"listPanels",()=>i,"seedDefaultPanelsIfEmpty",()=>r,"updatePanel",()=>d])},95717,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(22016),i=e.i(95161);let r="w-full h-14 rounded-lg bg-gray-800 text-gray-100 border border-gray-700 px-4 text-base outline-none focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30",l="bg-gray-900 rounded-xl shadow-lg border border-gray-800";function n(){let[e,n]=(0,t.useState)([]),[d,c]=(0,t.useState)(!0),[o,u]=(0,t.useState)(""),[h,m]=(0,t.useState)(""),[g,b]=(0,t.useState)(""),[x,p]=(0,t.useState)(""),f=async()=>{n(await (0,i.listPanels)())};(0,t.useEffect)(()=>{(async()=>{try{c(!0),await (0,i.seedDefaultPanelsIfEmpty)(),await f()}catch(e){alert(e?.message||"Failed to load panels from cloud.")}finally{c(!1)}})()},[]);let y=async()=>{if(!o||!h||!g)return void alert("Please fill Name, Width, Height.");try{await (0,i.createPanel)({name:o,width:Number(h),height:Number(g),description:x}),await f(),u(""),m(""),b(""),p("")}catch(e){alert(e?.message||"Failed to add panel.")}};return(0,a.jsx)("div",{className:"bg-gray-950 min-h-screen text-gray-100",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Panel Models"}),(0,a.jsx)(s.default,{href:"/",className:"rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors px-4 py-2 border border-gray-700",children:"Back"})]}),(0,a.jsxs)("div",{className:`${l} p-6 mt-6`,children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add panel"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-2",children:"Name"}),(0,a.jsx)("input",{value:o,onChange:e=>u(e.target.value),className:r})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-2",children:"Description"}),(0,a.jsx)("input",{value:x,onChange:e=>p(e.target.value),className:r})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-2",children:"Width (in)"}),(0,a.jsx)("input",{type:"number",value:h,onChange:e=>m(e.target.value),className:r})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-gray-300 mb-2",children:"Height (in)"}),(0,a.jsx)("input",{type:"number",value:g,onChange:e=>b(e.target.value),className:r})]})]}),(0,a.jsx)("button",{type:"button",onClick:y,className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-3 rounded-lg shadow-md transition",children:"Add Panel (Cloud)"})]}),(0,a.jsxs)("div",{className:`${l} p-6 mt-6`,children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Saved panels"}),d?(0,a.jsx)("div",{className:"text-gray-400",children:"Loading..."}):0===e.length?(0,a.jsx)("div",{className:"text-gray-400",children:"No panels found."}):(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,a.jsxs)("div",{className:"rounded-xl border border-gray-800 bg-gray-950/40 p-4 flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-100 font-semibold",children:e.name}),(0,a.jsxs)("div",{className:"text-gray-300 text-sm mt-1",children:[e.width," Ã— ",e.height," (in)"]}),e.description?(0,a.jsx)("div",{className:"text-gray-400 text-sm mt-1",children:e.description}):null]}),(0,a.jsx)(s.default,{href:`/panels/${e.id}`,className:"shrink-0 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors px-4 py-2 border border-gray-700",children:"Edit"})]},e.id))})]})]})})}e.s(["default",()=>n])}]);