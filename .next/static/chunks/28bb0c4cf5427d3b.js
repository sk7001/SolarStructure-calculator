(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},95161,e=>{"use strict";var t=e.i(72961);let a=[{name:"540W",width:89.6,height:44.7,description:"Default model"},{name:"550W",width:89.6,height:44.7,description:"Default model"}];async function i(){let{data:e,error:a}=await t.supabase.auth.getUser();if(a)throw a;if(!e?.user?.id)throw Error("Not logged in.");return e.user.id}async function s(){await i();let{data:e,error:a}=await t.supabase.from("panels").select("*").order("created_at",{ascending:!1});if(a)throw a;return e||[]}async function n(){let e=await i();if((await s()).length>0)return;let{error:n}=await t.supabase.from("panels").upsert(a.map(t=>({user_id:e,name:t.name,width:t.width,height:t.height,description:t.description??""})),{onConflict:"user_id,name"});if(n)throw n}async function l(e){let a=await i(),{data:s,error:n}=await t.supabase.from("panels").insert([{user_id:a,name:e.name.trim(),width:Number(e.width),height:Number(e.height),description:(e.description??"").trim()}]).select("*").single();if(n)throw n;return s}async function r(e){await i();let{data:a,error:s}=await t.supabase.from("panels").select("*").eq("id",e).single();if(s)throw s;return a}async function d(e,a){await i();let{data:s,error:n}=await t.supabase.from("panels").update({name:a.name.trim(),width:Number(a.width),height:Number(a.height),description:(a.description??"").trim(),updated_at:new Date().toISOString()}).eq("id",e).select("*").single();if(n)throw n;return s}async function o(e){await i();let{error:a}=await t.supabase.from("panels").delete().eq("id",e);if(a)throw a;return!0}e.s(["createPanel",()=>l,"deletePanel",()=>o,"getPanelById",()=>r,"listPanels",()=>s,"seedDefaultPanelsIfEmpty",()=>n,"updatePanel",()=>d])},736,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(22016),s=e.i(18566),n=e.i(95161);let l="w-full h-14 rounded-lg bg-gray-800 text-gray-100 border border-gray-700 px-4 text-base outline-none focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30";function r(){let e=(0,s.useParams)(),r=(0,s.useRouter)(),d=String(e?.id||""),[o,c]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null),[g,m]=(0,a.useState)(""),[b,p]=(0,a.useState)(""),[f,x]=(0,a.useState)(""),[w,y]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{try{c(!0);let e=await (0,n.getPanelById)(d);h(e),m(e.name||""),p(String(e.width??"")),x(String(e.height??"")),y(e.description||"")}catch(e){h(null)}finally{c(!1)}})()},[d]);let v=async()=>{if(!g||!b||!f)return void alert("Please fill Name, Width, Height.");try{await (0,n.updatePanel)(d,{name:g,width:Number(b),height:Number(f),description:w}),r.push("/panels")}catch(e){alert(e?.message||"Failed to save.")}},N=async()=>{if(confirm("Delete this panel model?"))try{await (0,n.deletePanel)(d),r.push("/panels")}catch(e){alert(e?.message||"Failed to delete.")}};return(0,t.jsx)("div",{className:"bg-gray-950 min-h-screen text-gray-100",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Edit panel"}),(0,t.jsx)(i.default,{href:"/panels",className:"rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors px-4 py-2 border border-gray-700",children:"Back"})]}),(0,t.jsx)("div",{className:"bg-gray-900 rounded-xl shadow-lg border border-gray-800 p-6 mt-6",children:o?(0,t.jsx)("div",{className:"text-gray-400",children:"Loading..."}):u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300 mb-2",children:"Name"}),(0,t.jsx)("input",{value:g,onChange:e=>m(e.target.value),className:l})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("input",{value:w,onChange:e=>y(e.target.value),className:l})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300 mb-2",children:"Width (in)"}),(0,t.jsx)("input",{type:"number",value:b,onChange:e=>p(e.target.value),className:l})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-300 mb-2",children:"Height (in)"}),(0,t.jsx)("input",{type:"number",value:f,onChange:e=>x(e.target.value),className:l})]})]}),(0,t.jsx)("button",{type:"button",onClick:v,className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-3 rounded-lg shadow-md transition",children:"Save Changes (Cloud)"}),(0,t.jsx)("button",{type:"button",onClick:N,className:"mt-3 w-full bg-red-600 hover:bg-red-700 active:bg-red-800 text-white px-4 py-3 rounded-lg shadow-md transition",children:"Delete Panel Model (Cloud)"})]}):(0,t.jsxs)("div",{className:"text-gray-400",children:["Panel not found."," ",(0,t.jsx)(i.default,{className:"underline",href:"/panels",children:"Go back"})]})})]})})}e.s(["default",()=>r])}]);