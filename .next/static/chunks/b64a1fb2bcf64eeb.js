(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},19125,e=>{"use strict";var t=e.i(72961);async function s(){let{data:e,error:s}=await t.supabase.auth.getUser();if(s)throw s;if(!e?.user?.id)throw Error("Not logged in.");return e.user.id}async function r(){await s();let{data:e,error:r}=await t.supabase.from("projects").select("*").order("created_at",{ascending:!1});if(r)throw r;return e||[]}async function a(e){await s();let{data:r,error:a}=await t.supabase.from("projects").select("*").eq("id",e).single();if(a)throw a;return r}async function l(e){let r=await s(),{data:a,error:l}=await t.supabase.from("projects").insert([{user_id:r,name:e.name.trim(),inputs:e.inputs||{},results:e.results??null}]).select("*").single();if(l)throw l;return a}async function i(e){await s();let{error:r}=await t.supabase.from("projects").delete().eq("id",e);if(r)throw r;return!0}e.s(["createProject",()=>l,"deleteProject",()=>i,"getProjectById",()=>a,"listProjects",()=>r])},39012,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(22016),a=e.i(18566),l=e.i(19125);let i="bg-gray-900 rounded-xl shadow-lg border border-gray-800";function c(){let e=(0,a.useRouter)(),[c,n]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),u=async()=>{n(await (0,l.listProjects)())};(0,s.useEffect)(()=>{(async()=>{try{d(!0),await u()}catch(e){alert(e?.message||"Failed to load projects from cloud.")}finally{d(!1)}})()},[]);let m=c.length>0,h=async e=>{if(confirm("Delete this project?"))try{await (0,l.deleteProject)(e),await u()}catch(e){alert(e?.message||"Failed to delete project.")}};return(0,t.jsx)("div",{className:"bg-gray-950 min-h-screen text-gray-100",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Projects"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.default,{href:"/",className:"rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors px-4 py-2 border border-gray-700",children:"Calculator"}),m?(0,t.jsx)(r.default,{href:"/",className:"rounded-lg bg-blue-600 hover:bg-blue-700 transition-colors px-4 py-2 border border-blue-500",children:"Add Project"}):null]})]}),o?(0,t.jsx)("div",{className:"min-h-[70vh] flex items-center justify-center",children:(0,t.jsx)("div",{className:`${i} p-8 w-full max-w-md text-center`,children:(0,t.jsx)("div",{className:"text-gray-400",children:"Loading..."})})}):m?(0,t.jsxs)("div",{className:`${i} p-6 mt-6`,children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Saved projects"}),(0,t.jsx)("div",{className:"space-y-3",children:c.map(s=>(0,t.jsxs)("div",{className:"rounded-xl border border-gray-800 bg-gray-950/40 p-4 flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-100 font-semibold",children:s.name}),(0,t.jsxs)("div",{className:"text-gray-400 text-sm mt-1",children:["Panels: ",s.inputs?.numberOfPanels||"-"," | Model: ",s.inputs?.selectedPanelModel||"-"," |"," ",s.inputs?.isVertical?"Vertical":"Horizontal"]})]}),(0,t.jsxs)("div",{className:"shrink-0 flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=s.id,void e.push(`/?projectId=${t}`)},className:"rounded-lg bg-blue-600 hover:bg-blue-700 transition-colors px-4 py-2 border border-blue-500",children:"Open"}),(0,t.jsx)("button",{type:"button",onClick:()=>h(s.id),className:"rounded-lg bg-red-600 hover:bg-red-700 transition-colors px-4 py-2 border border-red-500",children:"Delete"})]})]},s.id))})]}):(0,t.jsx)("div",{className:"min-h-[70vh] flex items-center justify-center",children:(0,t.jsxs)("div",{className:`${i} p-8 w-full max-w-md text-center`,children:[(0,t.jsx)("div",{className:"text-gray-200 font-semibold text-lg",children:"No projects yet"}),(0,t.jsx)("div",{className:"text-gray-400 text-sm mt-2",children:"Save a project from the Calculator (bottom button)."}),(0,t.jsx)(r.default,{href:"/",className:"mt-6 inline-block w-full bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-3 rounded-lg shadow-md transition",children:"Go to Calculator"})]})})]})})}e.s(["default",()=>c])}]);