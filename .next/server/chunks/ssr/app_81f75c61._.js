module.exports=[19037,a=>{"use strict";var b=a.i(70517);let c=[{name:"540W",width:89.6,height:44.7,description:"Default model"},{name:"550W",width:89.6,height:44.7,description:"Default model"}];async function d(){let{data:a,error:c}=await b.supabase.auth.getUser();if(c)throw c;if(!a?.user?.id)throw Error("Not logged in.");return a.user.id}async function e(){await d();let{data:a,error:c}=await b.supabase.from("panels").select("*").order("created_at",{ascending:!1});if(c)throw c;return a||[]}async function f(){let a=await d();if((await e()).length>0)return;let{error:f}=await b.supabase.from("panels").upsert(c.map(b=>({user_id:a,name:b.name,width:b.width,height:b.height,description:b.description??""})),{onConflict:"user_id,name"});if(f)throw f}async function g(a){let c=await d(),{data:e,error:f}=await b.supabase.from("panels").insert([{user_id:c,name:a.name.trim(),width:Number(a.width),height:Number(a.height),description:(a.description??"").trim()}]).select("*").single();if(f)throw f;return e}async function h(a){await d();let{data:c,error:e}=await b.supabase.from("panels").select("*").eq("id",a).single();if(e)throw e;return c}async function i(a,c){await d();let{data:e,error:f}=await b.supabase.from("panels").update({name:c.name.trim(),width:Number(c.width),height:Number(c.height),description:(c.description??"").trim(),updated_at:new Date().toISOString()}).eq("id",a).select("*").single();if(f)throw f;return e}async function j(a){await d();let{error:c}=await b.supabase.from("panels").delete().eq("id",a);if(c)throw c;return!0}a.s(["createPanel",()=>g,"deletePanel",()=>j,"getPanelById",()=>h,"listPanels",()=>e,"seedDefaultPanelsIfEmpty",()=>f,"updatePanel",()=>i])},37432,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(19037);let f="w-full h-14 rounded-lg bg-gray-800 text-gray-100 border border-gray-700 px-4 text-base outline-none focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30",g="bg-gray-900 rounded-xl shadow-lg border border-gray-800";function h(){let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),s=async()=>{h(await (0,e.listPanels)())};(0,c.useEffect)(()=>{(async()=>{try{j(!0),await (0,e.seedDefaultPanelsIfEmpty)(),await s()}catch(a){alert(a?.message||"Failed to load panels from cloud.")}finally{j(!1)}})()},[]);let t=async()=>{if(!k||!m||!o)return void alert("Please fill Name, Width, Height.");try{await (0,e.createPanel)({name:k,width:Number(m),height:Number(o),description:q}),await s(),l(""),n(""),p(""),r("")}catch(a){alert(a?.message||"Failed to add panel.")}};return(0,b.jsx)("div",{className:"bg-gray-950 min-h-screen text-gray-100",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Panel Models"}),(0,b.jsx)(d.default,{href:"/",className:"rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors px-4 py-2 border border-gray-700",children:"Back"})]}),(0,b.jsxs)("div",{className:`${g} p-6 mt-6`,children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Add panel"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 mb-2",children:"Name"}),(0,b.jsx)("input",{value:k,onChange:a=>l(a.target.value),className:f})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("input",{value:q,onChange:a=>r(a.target.value),className:f})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 mb-2",children:"Width (in)"}),(0,b.jsx)("input",{type:"number",value:m,onChange:a=>n(a.target.value),className:f})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 mb-2",children:"Height (in)"}),(0,b.jsx)("input",{type:"number",value:o,onChange:a=>p(a.target.value),className:f})]})]}),(0,b.jsx)("button",{type:"button",onClick:t,className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-3 rounded-lg shadow-md transition",children:"Add Panel (Cloud)"})]}),(0,b.jsxs)("div",{className:`${g} p-6 mt-6`,children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Saved panels"}),i?(0,b.jsx)("div",{className:"text-gray-400",children:"Loading..."}):0===a.length?(0,b.jsx)("div",{className:"text-gray-400",children:"No panels found."}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsxs)("div",{className:"rounded-xl border border-gray-800 bg-gray-950/40 p-4 flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-100 font-semibold",children:a.name}),(0,b.jsxs)("div",{className:"text-gray-300 text-sm mt-1",children:[a.width," Ã— ",a.height," (in)"]}),a.description?(0,b.jsx)("div",{className:"text-gray-400 text-sm mt-1",children:a.description}):null]}),(0,b.jsx)(d.default,{href:`/panels/${a.id}`,className:"shrink-0 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors px-4 py-2 border border-gray-700",children:"Edit"})]},a.id))})]})]})})}a.s(["default",()=>h])}];

//# sourceMappingURL=app_81f75c61._.js.map