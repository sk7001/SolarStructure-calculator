module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},19037,a=>{"use strict";var b=a.i(70517);let c=[{name:"540W",width:89.6,height:44.7,description:"Default model"},{name:"550W",width:89.6,height:44.7,description:"Default model"}];async function d(){let{data:a,error:c}=await b.supabase.auth.getUser();if(c)throw c;if(!a?.user?.id)throw Error("Not logged in.");return a.user.id}async function e(){await d();let{data:a,error:c}=await b.supabase.from("panels").select("*").order("created_at",{ascending:!1});if(c)throw c;return a||[]}async function f(){let a=await d();if((await e()).length>0)return;let{error:f}=await b.supabase.from("panels").upsert(c.map(b=>({user_id:a,name:b.name,width:b.width,height:b.height,description:b.description??""})),{onConflict:"user_id,name"});if(f)throw f}async function g(a){let c=await d(),{data:e,error:f}=await b.supabase.from("panels").insert([{user_id:c,name:a.name.trim(),width:Number(a.width),height:Number(a.height),description:(a.description??"").trim()}]).select("*").single();if(f)throw f;return e}async function h(a){await d();let{data:c,error:e}=await b.supabase.from("panels").select("*").eq("id",a).single();if(e)throw e;return c}async function i(a,c){await d();let{data:e,error:f}=await b.supabase.from("panels").update({name:c.name.trim(),width:Number(c.width),height:Number(c.height),description:(c.description??"").trim(),updated_at:new Date().toISOString()}).eq("id",a).select("*").single();if(f)throw f;return e}async function j(a){await d();let{error:c}=await b.supabase.from("panels").delete().eq("id",a);if(c)throw c;return!0}a.s(["createPanel",()=>g,"deletePanel",()=>j,"getPanelById",()=>h,"listPanels",()=>e,"seedDefaultPanelsIfEmpty",()=>f,"updatePanel",()=>i])},99512,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(19037);let g="w-full h-14 rounded-lg bg-gray-800 text-gray-100 border border-gray-700 px-4 text-base outline-none focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/30";function h(){let a=(0,e.useParams)(),h=(0,e.useRouter)(),i=String(a?.id||""),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)("");(0,c.useEffect)(()=>{(async()=>{try{k(!0);let a=await (0,f.getPanelById)(i);m(a),o(a.name||""),q(String(a.width??"")),s(String(a.height??"")),u(a.description||"")}catch(a){m(null)}finally{k(!1)}})()},[i]);let v=async()=>{if(!n||!p||!r)return void alert("Please fill Name, Width, Height.");try{await (0,f.updatePanel)(i,{name:n,width:Number(p),height:Number(r),description:t}),h.push("/panels")}catch(a){alert(a?.message||"Failed to save.")}},w=async()=>{if(confirm("Delete this panel model?"))try{await (0,f.deletePanel)(i),h.push("/panels")}catch(a){alert(a?.message||"Failed to delete.")}};return(0,b.jsx)("div",{className:"bg-gray-950 min-h-screen text-gray-100",children:(0,b.jsxs)("div",{className:"max-w-3xl mx-auto p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Edit panel"}),(0,b.jsx)(d.default,{href:"/panels",className:"rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors px-4 py-2 border border-gray-700",children:"Back"})]}),(0,b.jsx)("div",{className:"bg-gray-900 rounded-xl shadow-lg border border-gray-800 p-6 mt-6",children:j?(0,b.jsx)("div",{className:"text-gray-400",children:"Loading..."}):l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 mb-2",children:"Name"}),(0,b.jsx)("input",{value:n,onChange:a=>o(a.target.value),className:g})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("input",{value:t,onChange:a=>u(a.target.value),className:g})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 mb-2",children:"Width (in)"}),(0,b.jsx)("input",{type:"number",value:p,onChange:a=>q(a.target.value),className:g})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 mb-2",children:"Height (in)"}),(0,b.jsx)("input",{type:"number",value:r,onChange:a=>s(a.target.value),className:g})]})]}),(0,b.jsx)("button",{type:"button",onClick:v,className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-3 rounded-lg shadow-md transition",children:"Save Changes (Cloud)"}),(0,b.jsx)("button",{type:"button",onClick:w,className:"mt-3 w-full bg-red-600 hover:bg-red-700 active:bg-red-800 text-white px-4 py-3 rounded-lg shadow-md transition",children:"Delete Panel Model (Cloud)"})]}):(0,b.jsxs)("div",{className:"text-gray-400",children:["Panel not found."," ",(0,b.jsx)(d.default,{className:"underline",href:"/panels",children:"Go back"})]})})]})})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e4d56fec._.js.map