module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},30442,a=>{"use strict";var b=a.i(70517);async function c(){let{data:a,error:c}=await b.supabase.auth.getUser();if(c)throw c;if(!a?.user?.id)throw Error("Not logged in.");return a.user.id}async function d(){await c();let{data:a,error:d}=await b.supabase.from("projects").select("*").order("created_at",{ascending:!1});if(d)throw d;return a||[]}async function e(a){await c();let{data:d,error:e}=await b.supabase.from("projects").select("*").eq("id",a).single();if(e)throw e;return d}async function f(a){let d=await c(),{data:e,error:f}=await b.supabase.from("projects").insert([{user_id:d,name:a.name.trim(),inputs:a.inputs||{},results:a.results??null}]).select("*").single();if(f)throw f;return e}async function g(a){await c();let{error:d}=await b.supabase.from("projects").delete().eq("id",a);if(d)throw d;return!0}a.s(["createProject",()=>f,"deleteProject",()=>g,"getProjectById",()=>e,"listProjects",()=>d])},77593,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(30442);let g="bg-gray-900 rounded-xl shadow-lg border border-gray-800";function h(){let a=(0,e.useRouter)(),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),l=async()=>{i(await (0,f.listProjects)())};(0,c.useEffect)(()=>{(async()=>{try{k(!0),await l()}catch(a){alert(a?.message||"Failed to load projects from cloud.")}finally{k(!1)}})()},[]);let m=h.length>0,n=async a=>{if(confirm("Delete this project?"))try{await (0,f.deleteProject)(a),await l()}catch(a){alert(a?.message||"Failed to delete project.")}};return(0,b.jsx)("div",{className:"bg-gray-950 min-h-screen text-gray-100",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Projects"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.default,{href:"/",className:"rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors px-4 py-2 border border-gray-700",children:"Calculator"}),m?(0,b.jsx)(d.default,{href:"/",className:"rounded-lg bg-blue-600 hover:bg-blue-700 transition-colors px-4 py-2 border border-blue-500",children:"Add Project"}):null]})]}),j?(0,b.jsx)("div",{className:"min-h-[70vh] flex items-center justify-center",children:(0,b.jsx)("div",{className:`${g} p-8 w-full max-w-md text-center`,children:(0,b.jsx)("div",{className:"text-gray-400",children:"Loading..."})})}):m?(0,b.jsxs)("div",{className:`${g} p-6 mt-6`,children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Saved projects"}),(0,b.jsx)("div",{className:"space-y-3",children:h.map(c=>(0,b.jsxs)("div",{className:"rounded-xl border border-gray-800 bg-gray-950/40 p-4 flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-100 font-semibold",children:c.name}),(0,b.jsxs)("div",{className:"text-gray-400 text-sm mt-1",children:["Panels: ",c.inputs?.numberOfPanels||"-"," | Model: ",c.inputs?.selectedPanelModel||"-"," |"," ",c.inputs?.isVertical?"Vertical":"Horizontal"]})]}),(0,b.jsxs)("div",{className:"shrink-0 flex items-center gap-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=c.id,void a.push(`/?projectId=${b}`)},className:"rounded-lg bg-blue-600 hover:bg-blue-700 transition-colors px-4 py-2 border border-blue-500",children:"Open"}),(0,b.jsx)("button",{type:"button",onClick:()=>n(c.id),className:"rounded-lg bg-red-600 hover:bg-red-700 transition-colors px-4 py-2 border border-red-500",children:"Delete"})]})]},c.id))})]}):(0,b.jsx)("div",{className:"min-h-[70vh] flex items-center justify-center",children:(0,b.jsxs)("div",{className:`${g} p-8 w-full max-w-md text-center`,children:[(0,b.jsx)("div",{className:"text-gray-200 font-semibold text-lg",children:"No projects yet"}),(0,b.jsx)("div",{className:"text-gray-400 text-sm mt-2",children:"Save a project from the Calculator (bottom button)."}),(0,b.jsx)(d.default,{href:"/",className:"mt-6 inline-block w-full bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white px-4 py-3 rounded-lg shadow-md transition",children:"Go to Calculator"})]})})]})})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5314a5af._.js.map